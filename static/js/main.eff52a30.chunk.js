(this["webpackJsonphit-me-with-that-song"]=this["webpackJsonphit-me-with-that-song"]||[]).push([[0],{53:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),r=n(19),a=n.n(r),s=(n(53),n(44)),c=n(4),l=n(18),d=n(13),u=n(66),h=n(81),j={marginBottom:"100px",marginTop:"100px"},b=Object(h.a)({outerMostContainer:{height:"100vh",width:"100%"},controlPanelContainer:{display:"flex",justifyContent:"space-between",marginLeft:"100px",marginRight:"100px",height:"100%"},columnContainer:Object(d.a)({display:"flex",flexDirection:"column"},j),wordColumnContainer:Object(d.a)({display:"flex",flexDirection:"column",justifyContent:"space-between"},j),pickSong:{display:"flex",flexDirection:"column",marginBottom:"10px",padding:"20px",width:"100%"},songTitle:{fontWeight:"bolder",fontSize:"18px"},triviaToggle:{width:"100px",height:"100px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"30px"}}),p=function(e){console.log("building random stopwords");for(var t,n=[];n.length<2;){var i=(t=e.length,Math.floor(Math.random()*t));n.includes(i)||n.push(i)}return e.map((function(e,t){return{text:e,visible:!1,stopWord:n.includes(t)}}))},x=[{author:"Rollo & King",title:"Der st\xe5r et billede af dig p\xe5 mit bord",words:p(["Der","st\xe5r","et","billede","af","dig"]),trivia:"Hvad var Rollo & Kings job f\xf8r de lavede musik",triviaAnswer:"Skolel\xe6rer",showTrivia:!1},{author:"Shu-bi-dua",title:"Danmark",words:p(["Den","der","siger","andet","lyver"]),trivia:"Hvor mange medlemmer har der v\xe6ret med i shubidua over \xe5rene: 3, 5, 9, 11 eller 16?",triviaAnswer:"16",showTrivia:!1}],g=Object(h.a)({toggleWord:function(e){return{width:"100px",height:"100px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"20px",fontWeight:"bolder",marginBottom:"10px",backgroundColor:e.visible?"lightgreen":"pink",color:e.stopWord?"red":"black"}}}),v=n(2),f=function(e){var t=e.idx,n=e.visible,i=e.stopWord,o=e.handleWordClick,r=g({visible:n,stopWord:i||!1});return Object(v.jsx)(u.a,{elevation:2,onClick:o,className:r.toggleWord,children:Object(v.jsx)("div",{children:t+1})})},m=n(83),O=n(84),w=n(42),C=n.n(w),y=n(43),S=n.n(y),k=Object(h.a)({container:{display:"flex",flexDirection:"column",marginBottom:"50px",alignItems:"center",padding:"10px"},teamName:{fontSize:"22px"}}),N=function(e){var t=e.points,n=e.name,i=e.handlePointChange,o=k();return Object(v.jsxs)(m.a,{className:o.container,children:[Object(v.jsxs)("span",{className:o.teamName,children:[" ",n," "]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(O.a,{"aria-label":"delete",onClick:function(){return i(-1)},children:Object(v.jsx)(C.a,{fontSize:"inherit"})}),t,Object(v.jsx)(O.a,{"aria-label":"delete",onClick:function(){return i(1)},children:Object(v.jsx)(S.a,{fontSize:"inherit"})})]})]})},T="hitMedSangen",W="toggleWordVisiblity",B="setSong",P="toggleTrivia";function D(e,t){switch(t.type){case W:return Object(d.a)(Object(d.a)({},e),{},{words:(n=e.words,i=t.wordIndex,o=t.visibility,n.map((function(e,t){return i===t?Object(d.a)(Object(d.a)({},e),{},{visible:o}):Object(d.a)({},e)})))});case B:return t.song;case P:return Object(d.a)(Object(d.a)({},e),{},{showTrivia:t.visibility});default:throw new Error}var n,i,o}var I=function(){var e=Object(i.useReducer)(D,x[0]),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(i.useState)(0),a=Object(l.a)(r,2),s=a[0],c=a[1],d=Object(i.useState)(0),h=Object(l.a)(d,2),j=h[0],p=h[1];Object(i.useEffect)((function(){!function(e){console.log("sending song",e);var t=new BroadcastChannel(T);t.postMessage({song:e}),t.close()}(n)}),[n]),Object(i.useEffect)((function(){!function(e){console.log("sending points",e);var t=new BroadcastChannel(T);t.postMessage({points:e}),t.close()}({team1Points:s,team2Points:j})}),[s,j]);var g=b();return Object(v.jsx)("div",{className:g.outerMostContainer,children:Object(v.jsxs)("div",{className:g.controlPanelContainer,children:[Object(v.jsx)("div",{className:g.columnContainer,children:x.map((function(e,t){return Object(v.jsxs)(u.a,{elevation:1,className:g.pickSong,onClick:function(){return o({type:B,song:x[t]})},children:[Object(v.jsx)("span",{className:g.songTitle,children:e.author}),Object(v.jsx)("span",{children:e.title})]})}))}),Object(v.jsx)("div",{className:g.wordColumnContainer,children:n.words.map((function(e,t){return Object(v.jsx)(f,{idx:t,handleWordClick:function(){return n=t,i=!e.visible,o({type:W,wordIndex:n,visibility:i});var n,i},stopWord:e.stopWord,visible:e.visible,text:e.text})}))}),Object(v.jsx)("div",{className:g.columnContainer,children:Object(v.jsx)(u.a,{elevation:2,className:g.triviaToggle,onClick:function(){return e=!n.showTrivia,o({type:P,visibility:e});var e},children:Object(v.jsx)("div",{style:{color:n.showTrivia?"green":"red"},children:"Trivia"})})}),Object(v.jsxs)("div",{className:g.columnContainer,children:[Object(v.jsx)(N,{name:"Sasha Dupont",points:s,handlePointChange:function(e){return c(s+e)}}),Object(v.jsx)(N,{name:"Sigurd Bertet",points:j,handlePointChange:function(e){return p(j+e)}})]})]})})},z=Object(h.a)({wordsContainer:{display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100vh",backgroundColor:"#373737"},triviaContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100vh",backgroundColor:"#373737",color:"white",fontSize:"60px"},triviaText:{marginLeft:"10%",marginRight:"10%"},pointsContainer:{position:"absolute",color:"white",fontSize:"26px",left:"10px"}}),M=Object(h.a)({wordContainer:function(e){return{backgroundColor:e.stopWord?"#d34249":"#000fe7",color:"white","flex-grow":"1",display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"solid 1px white",borderRight:"solid 1px white",borderTop:"solid 5px white",borderBottom:"solid 5px white",height:"250px",fontSize:e.visible?"100px":"150px"}},wordStyle:function(e){return{marginBottom:e.visible?"0":"25px"}}}),R=function(e){var t=e.text,n=e.visible,i=e.stopWord,o=M({stopWord:i||!1,visible:n});return Object(v.jsx)("div",{className:o.wordContainer,children:Object(v.jsx)("span",{className:o.wordStyle,children:n?t:"\ud834\udd1e"})},t)},E={words:[],trivia:"",showTrivia:!1};var L=function(){var e=Object(i.useState)(E),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(i.useState)({team1Points:0,team2Points:0}),a=Object(l.a)(r,2),s=a[0],c=a[1];Object(i.useEffect)((function(){var e=function(e,t){var n=new BroadcastChannel(T);return n.onmessage=function(n){var i=n.data;if(console.log("got some broadcast data",i),i.song){var o=i.song;e(o)}i.points&&t(i.points)},function(){return n.close()}}((function(e){return o(e)}),(function(e){return console.log("got points",c(e))}));return function(){e()}}),[]);var d=z(),u=n.showTrivia?Object(v.jsx)("div",{className:d.triviaContainer,children:Object(v.jsx)("span",{className:d.triviaText,children:n.trivia})}):Object(v.jsx)("div",{className:d.wordsContainer,children:n.words.map((function(e){return Object(v.jsx)(R,{visible:e.visible,text:e.text,stopWord:e.stopWord&&e.visible})}))});return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:d.pointsContainer,children:[Object(v.jsxs)("div",{children:["Sasha Dupont: ",s.team1Points]}),Object(v.jsxs)("div",{children:["Sigurd Bertet: ",s.team2Points]})]}),u]})};var F=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(s.a,{basename:"/hit-me-with-that-song",children:Object(v.jsx)("div",{children:Object(v.jsxs)(c.c,{children:[Object(v.jsx)(c.a,{exact:!0,path:"/control-panel",children:Object(v.jsx)(I,{})}),Object(v.jsx)(c.a,{path:"/",children:Object(v.jsx)(L,{})})]})})})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),r(e),a(e)}))};a.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(F,{})}),document.getElementById("root")),A()}},[[64,1,2]]]);
//# sourceMappingURL=main.eff52a30.chunk.js.map